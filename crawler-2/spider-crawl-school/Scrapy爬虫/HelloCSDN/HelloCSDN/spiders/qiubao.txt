['用Python解决女朋友看电影没字幕的需求']
是这样子的，女朋友晚上突然翻到了自己喜欢看的一个电影，但是没有字幕，这让她很苦恼。我急中生智，紧急的解决了我女朋友的需求。想到了使用Python做一个可以识别语音，然后翻译出来文字的软件。如下图就是本片文章所要完成的效果，哈哈，是不是还不错，很棒的样子。如果有兴趣可以给我点个赞，之后带来更多好玩、有趣的demo和实现的教程。《甄嬛传》第一集的某一小段：最近剧荒，偶然翻出了曾经下载的电视剧回味一番，经典就是经典，不论是剧情还是台词，都那么有魅力，咦？等等，台词，台词……作为一个IT从业者，我忽然灵光一现——现在语音识别技术这么发达，能否有什么办法能帮我保存下一些精彩桥段的台词呢？或许我也可以是个野生字幕君:p ,似乎也可以在此基础上顺手再翻译一下个别难懂的台词！略加思索，我大概有了个想法——做个视频中提取音频的程序，而后去请求一个开放的语音识别API来帮我把语音转为文字。鉴于之前调用有道智云的愉快经验，我决定再次拿来为我所用，很快做出了这个（请忽略这丑丑的界面布局，能用就行……）。欢迎关注我，，，把几篇写完。首先，是需要在有道智云的个人页面上创建实例、创建应用、绑定应用和实例，获取调用接口用到的应用的id和密钥。具体个人注册的过程和应用创建过程详见文章下面介绍具体的代码开发过程。首先分析有道智云的API输入输出规范。根据来看，调用接口格式如下：其中q为base64编码的待识别音频文件，“上传的文件时长不能超过120s，文件大小不能超过10M”，这点需要注意一下。API的较为简单：这个项目使用开发，包括，，三个文件。部分，使用python自带的，提供视频文件选择、时间输入框和确认按钮；:来实现在视频的指定时间区间提取音频和处理API返回信息的功能；:将处理好的音频发送到短语音识别API并返回结果。界面部分代码如下，比较简单。其中sure_btn的绑定事件start_sr()做了简单的异常处理，并通过弹窗打印最终的识别结果:（1）在videoprocess.py中，我用到了python的moviepy库来处理视频，按指定起止时间截取视频，提取音频，并按API要求转为base64编码形式：（2）处理好的音频文件编码传到封装好的有道智云API调用方法中：srbynetease.py中封装的调用方法比较简单，按API文档“组装”好data{}发送即可：随手打开《甄嬛传》第一集的某一小段试试：效果可以，断句的一点小瑕疵可以忽略。没想到这短语音识别API博古通今，古文语音识别也这么溜，厉害厉害！一番尝试带我打开了新世界的大门，从今天开始我可以是一个不打字却能搬运字幕的野生字幕君了，后面再有时间可以试试识别完翻译成其他语言的操作，嗯，是技术的力量！项目地址：https://github.com/LemonQH/SRFromVideo回复，更有好礼，惊喜在等着你。
